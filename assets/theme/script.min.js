function d(e){try{var t=window[e],a="__storage_test__";return t.setItem(a,a),t.removeItem(a),1}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}function N(){var e=document.getElementById("uol_loader");e&&e.remove()}window.addEventListener("load",e=>{var t=document.getElementById("search-results");if(t){var a=new URLSearchParams(window.location.search),l=!1;if(a.has("search-query")){for(var l=a.get("search-query").split(" ").map(e=>e.toLowerCase()),a=t,n=document.createElement("div"),o=(n.setAttribute("id","uol_loader"),"loading"),s=1;s<=o.length;s++){var i=document.createElement("span");i.classList.add("circle"),i.classList.add("circle-"+s),i.appendChild(document.createTextNode(o[s-1])),n.appendChild(i)}a.appendChild(n);var r=t.getAttribute("data-searchindex");new Promise((t,a)=>{d("localStorage")&&localStorage.getItem("searchIndex")?(console.log("getting data from localstorage"),t(JSON.parse(localStorage.getItem("searchIndex"))),localStorage.removeItem("searchIndex")):(console.log("getting data from API"),console.log(r),fetch(r).then(e=>{if(e.ok)return e.json();a("Failed to retrieve search index")}).then(e=>{d("localStorage")&&localStorage.setItem("searchIndex",JSON.stringify(e)),t(e)}))}).then(e=>{for(var t=[],a=0;a<e.length;a++){for(var n=!1,o=0;o<l.length;o++)-1==e[a].t.toLowerCase().indexOf(l[o])&&-1==e[a].kw.toLowerCase().indexOf(l[o])&&-1==e[a].intro.toLowerCase().indexOf(l[o])&&-1==e[a].desc.toLowerCase().indexOf(l[o])||(n=!0);n&&t.push(e[a])}c(t)}).catch(e=>{N(),t.innerHTML="<p>Sorry, there was an error processing your search.</p><pre>"+e+"</pre>"})}else t.innerHTML="<p>Sorry, no search terms were specified - please try again.</p>"}});var c=function(e){N();var t=new URLSearchParams(window.location.search),a=document.getElementById("search-results");if(e.length){var n=e.length,o=1,l=10,s=((o=(o=n<((o=t.has("page")?parseInt(t.get("page")):o)-1)*l?Math.ceil(n/l):o)<1?1:o)-1)*l,i=Math.ceil(n/l),r=document.createElement("div"),d=(r.classList.add("uol-results-count"),r.innerHTML='<h2 class="uol-results-count__title">'+n+" results for <strong>"+t.get("search-query")+"</strong></h2>",a.appendChild(r),document.createElement("div"));d.classList.add("uol-results-items");for(var c,u,p,m,h=s;h<s+l;h++)h<e.length&&((c=document.createElement("article")).classList.add("uol-results-items__item"),""!=e[h].alt&&c.classList.add("uol-results-items__item--has-image"),(p=document.createElement("div")).classList.add("uol-results-items__item__text-container"),(m=document.createElement("h2")).classList.add("uol-results-items__item__title"),(u=document.createElement("a")).setAttribute("href",e[h].url),u.classList.add("uol-results-items__item__link"),p.appendChild(m).appendChild(u).appendChild(document.createTextNode(e[h].t)),(m=document.createElement("p")).classList.add("uol-results-items__item__summary"),u=""==e[h].desc?e[h].intro:e[h].desc,c.appendChild(p).appendChild(m).appendChild(document.createTextNode(u)),""!=e[h].alt&&((p=document.createElement("div")).classList.add("uol-results-items__item__image-container"),(m=document.createElement("img")).classList.add("uol-results-items__item__img"),m.setAttribute("src",e[h].img),m.setAttribute("alt",e[h].alt),p.appendChild(m),c.appendChild(p)),d.appendChild(c));if(a.appendChild(d),l<n){console.log("Creating pagination");var g,L,_,r=document.createElement("nav"),f=(r.classList.add("uol-pagination"),r.setAttribute("aria-label","pagination"),document.createElement("ol")),w=(f.classList.add("uol-pagination__list"),{}),v=document.createElement("li"),b=(v.classList.add("uol-pagination__item"),w.first=v.cloneNode(),w.prev=v.cloneNode(),w.next=v.cloneNode(),w.last=v.cloneNode(),document.createElement("button")),b=(b.setAttribute("type","button"),b.classList.add("uol-button","uol-icon","uol-icon--icon-only","uol-pagination__link"),b.cloneNode()),C=(b.setAttribute("disabled",!0),document.createElement("a"));C.classList.add("uol-button","uol-icon","uol-icon--icon-only","uol-pagination__link"),L=(1==o?(g=b.cloneNode(),b):(g=C.cloneNode(),C)).cloneNode(),g.classList.add("uol-icon--mdiPageFirst","uol-button--primary"),g.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path fill="#000000" fill-rule="nonzero" d="M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z"></path></svg><span class="uol-icon__label">First page</span>',L.classList.add("uol-icon--mdiArrowLeft","uol-button--primary"),L.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path fill="#000000" fill-rule="nonzero" d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg><span class="uol-icon__label">Previous page</span>',b=(n<=o*l?(_=b.cloneNode(),b):(_=C.cloneNode(),C)).cloneNode(),_.classList.add("uol-icon--mdiArrowRight","uol-button--primary"),_.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path fill="#000000" fill-rule="nonzero" d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"></path></svg><span class="uol-icon__label">Next page</span>',b.classList.add("uol-icon--mdiPageLast","uol-button--primary"),b.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path fill="#000000" fill-rule="nonzero" d="M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z"></path> </svg><span class="uol-icon__label">Last page</span>',0<s&&(t.set("page",1),g.setAttribute("href",window.location.href.split("?")[0]+"?"+t.toString()),t.set("page",o-1),L.setAttribute("href",window.location.href.split("?")[0]+"?"+t.toString())),o*l<n&&(t.set("page",o+1),_.setAttribute("href",window.location.href.split("?")[0]+"?"+t.toString()),t.set("page",i),b.setAttribute("href",window.location.href.split("?")[0]+"?"+t.toString())),w.first.appendChild(g),w.prev.appendChild(L),w.next.appendChild(_),w.last.appendChild(b),f.appendChild(w.first),f.appendChild(w.prev);for(var x=1;x<=i;x++){if(5<i){var E=o-2<1?1:o-2,y=E+4;if(x<=(E=i<y?(y=i)-4:E)||y<=x)continue}E=v.cloneNode(),y=(E.classList.add("uol-pagination__item--numeric"),x==o&&E.classList.add("uol-pagination__item--current"),C.cloneNode());y.classList.add("uol-button--secondary"),t.set("page",x),y.setAttribute("href",window.location.href.split("?")[0]+"?"+t.toString()),y.setAttribute("data-number",x),x==o&&y.setAttribute("aria-current","page"),y.innerHTML='<span class="uol-icon__label"><span class="hide-accessible">Page </span>'+x+"</span>",E.appendChild(y),f.appendChild(E)}f.appendChild(w.next),f.appendChild(w.last),r.appendChild(f);n=document.createElement("span");n.classList.add("uol-pagination__status"),n.appendChild(document.createTextNode("Page "+o+" of "+i)),r.appendChild(n),a.appendChild(r)}}else a.innerHTML="<p>Sorry, no results found for <em>"+t.get("search-query")+"</em></p>"};